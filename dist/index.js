"use strict";var e=require("react"),t=require("react-konva"),r=require("@radix-ui/react-slot"),n=require("class-variance-authority"),a=require("clsx"),o=require("tailwind-merge"),s=require("zustand"),i=require("zundo"),l=require("use-image"),c=require("react-dom"),u=require("lucide-react"),d=require("@radix-ui/react-tabs"),p=require("@radix-ui/react-label"),f=require("@radix-ui/react-select"),g=require("@radix-ui/react-slider"),h=require("@radix-ui/react-switch"),m=require("@radix-ui/react-separator");function x(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var b=x(e),v=x(d),y=x(p),S=x(f),E=x(g),_=x(h),j=x(m);function w(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var R,O={exports:{}},k={};var C,N,A={};
/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function T(){return C||(C=1,"production"!==process.env.NODE_ENV&&function(){function t(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===_?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"Fragment";case g:return"Profiler";case f:return"StrictMode";case b:return"Suspense";case v:return"SuspenseList";case E:return"Activity"}if("object"==typeof e)switch(e.tag,e.$$typeof){case d:return"Portal";case m:return(e.displayName||"Context")+".Provider";case h:return(e._context.displayName||"Context")+".Consumer";case x:var r=e.render;return(e=e.displayName)||(e=""!==(e=r.displayName||r.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(r=e.displayName||null)?r:t(e.type)||"Memo";case S:r=e._payload,e=e._init;try{return t(e(r))}catch(e){}}return null}function r(e){return""+e}function n(e){try{r(e);var t=!1}catch(e){t=!0}if(t){var n=(t=console).error,a="function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return n.call(t,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",a),r(e)}}function a(e){if(e===p)return"<>";if("object"==typeof e&&null!==e&&e.$$typeof===S)return"<...>";try{var r=t(e);return r?"<"+r+">":"<...>"}catch(e){return"<...>"}}function o(){return Error("react-stack-top-frame")}function s(){var e=t(this.type);return k[e]||(k[e]=!0),void 0!==(e=this.props.ref)?e:null}function i(e,r,a,o,i,c,d,p){var f,g=r.children;if(void 0!==g)if(o){if(R(g)){for(o=0;o<g.length;o++)l(g[o]);Object.freeze&&Object.freeze(g)}}else l(g);if(w.call(r,"key")){g=t(e);var h=Object.keys(r).filter(function(e){return"key"!==e});o=0<h.length?"{key: someKey, "+h.join(": ..., ")+": ...}":"{key: someKey}",T[g+o]||(h=0<h.length?"{"+h.join(": ..., ")+": ...}":"{}",T[g+o]=!0)}if(g=null,void 0!==a&&(n(a),g=""+a),function(e){if(w.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(r)&&(n(r.key),g=""+r.key),"key"in r)for(var m in a={},r)"key"!==m&&(a[m]=r[m]);else a=r;return g&&function(e){function t(){}t.isReactWarning=!0,Object.defineProperty(e,"key",{get:t,configurable:!0})}(a,"function"==typeof e&&(e.displayName||e.name)),function(e,t,r,n,a,o,i,l){return r=o.ref,e={$$typeof:u,type:e,key:t,props:o,_owner:a},null!==(void 0!==r?r:null)?Object.defineProperty(e,"ref",{enumerable:!1,get:s}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(e,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:i}),Object.defineProperty(e,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:l}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}(e,g,c,0,null===(f=j.A)?null:f.getOwner(),a,d,p)}function l(e){"object"==typeof e&&null!==e&&e.$$typeof===u&&e._store&&(e._store.validated=1)}var c=e,u=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),_=Symbol.for("react.client.reference"),j=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=Object.prototype.hasOwnProperty,R=Array.isArray,O=console.createTask?console.createTask:function(){return null},k={},C=(c={"react-stack-bottom-frame":function(e){return e()}})["react-stack-bottom-frame"].bind(c,o)(),N=O(a(o)),T={};A.Fragment=p,A.jsx=function(e,t,r,n,o){var s=1e4>j.recentlyCreatedOwnerStacks++;return i(e,t,r,!1,0,o,s?Error("react-stack-top-frame"):C,s?O(a(e)):N)},A.jsxs=function(e,t,r,n,o){var s=1e4>j.recentlyCreatedOwnerStacks++;return i(e,t,r,!0,0,o,s?Error("react-stack-top-frame"):C,s?O(a(e)):N)}}()),A}function I(){return N||(N=1,"production"===process.env.NODE_ENV?O.exports=function(){if(R)return k;R=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(t,r,n){var a=null;if(void 0!==n&&(a=""+n),void 0!==r.key&&(a=""+r.key),"key"in r)for(var o in n={},r)"key"!==o&&(n[o]=r[o]);else n=r;return r=n.ref,{$$typeof:e,type:t,key:a,ref:void 0!==r?r:null,props:n}}return k.Fragment=t,k.jsx=r,k.jsxs=r,k}():O.exports=T()),O.exports}var P=I();function D(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}"function"==typeof SuppressedError&&SuppressedError;const $=(...e)=>o.twMerge(a.clsx(e)),L=n.cva("inline-flex items-center cursor-pointer justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function z(e){var{className:t,variant:n,size:a,asChild:o=!1}=e,s=D(e,["className","variant","size","asChild"]);const i=o?r.Slot:"button";return P.jsx(i,Object.assign({"data-slot":"button",className:$(L({variant:n,size:a,className:t}))},s))}const H=({x:e,y:r,size:n=20,onDelete:a})=>{const o=e=>{e.evt.preventDefault(),a()};return P.jsxs(t.Group,{x:e,y:r,onClick:o,onTap:o,children:[P.jsx(t.Circle,{width:n,height:n,radius:n/2,fill:"#000000",stroke:"#ffffff",strokeWidth:1,shadowBlur:2,shadowColor:"#000000",shadowOpacity:.2,opacity:.9,onClick:o,onTap:o}),P.jsx(t.Text,{text:"x",fontSize:n,fill:"#ffffff",width:n,onClick:o,onTap:o,height:n,align:"center",verticalAlign:"middle",offsetX:n/2,offsetY:n/2})]})},M=({textElement:r,onDragEnd:n,onTransform:a,onSelect:o,transformerRef:s,onDelete:i,onDragStart:l})=>{var c,u;const d=e.useRef(null),p=e.useRef(null),[,f]=e.useState({});e.useEffect(()=>{var e;(null==s?void 0:s.current)&&p.current&&r.isSelected&&(s.current.nodes([p.current]),null===(e=s.current.getLayer())||void 0===e||e.batchDraw())},[r.isSelected,s]),e.useEffect(()=>{if((null==s?void 0:s.current)&&p.current&&r.isSelected){const e=setTimeout(()=>{var e,t;s.current&&p.current&&(s.current.forceUpdate(),null===(e=s.current.getLayer())||void 0===e||e.batchDraw(),null===(t=p.current.getLayer())||void 0===t||t.batchDraw(),f({}))},0);return()=>clearTimeout(e)}},[r,s]);const g=()=>{if(p.current&&d.current){const e=p.current,t=e.scaleX(),n=e.scaleY(),o=e.x(),i=e.y(),l=e.rotation(),c=Object.assign(Object.assign({},d.current),{x:()=>o,y:()=>i,rotation:()=>l,scaleX:()=>t,scaleY:()=>n,fontSize:()=>r.fontSize,width:()=>{var e;return(null===(e=d.current)||void 0===e?void 0:e.width())||0},height:()=>{var e;return(null===(e=d.current)||void 0===e?void 0:e.height())||0}});a(c),setTimeout(()=>{var e,t;(null==s?void 0:s.current)&&p.current&&(s.current.forceUpdate(),null===(e=s.current.getLayer())||void 0===e||e.batchDraw(),null===(t=p.current.getLayer())||void 0===t||t.batchDraw(),f({}))},0)}},h=(null===(c=d.current)||void 0===c?void 0:c.width())||0,m=(null===(u=d.current)||void 0===u?void 0:u.height())||0,x=r.scaleX||1,b=r.scaleY||1,v=8/x,y=8/b,S=h+2*v,E=m+2*y,_=(()=>{if(!r.hasBackground)return{x:0,y:0};let e=0;return r.align,e=v,{x:e,y:0}})(),j=(()=>{if(!s||!s.current||!p.current)return{x:r.x+100,y:r.y-10};const e=s.current.findOne(".top-right");if(e){const t=e.getAbsolutePosition();return{x:t.x+10,y:t.y-10}}{const e=p.current.getClientRect();return{x:e.x+e.width+10,y:e.y-10}}})();return P.jsxs(P.Fragment,{children:[P.jsxs(t.Group,{ref:p,x:r.x,y:r.y,rotation:r.rotation,scaleX:r.scaleX||1,scaleY:r.scaleY||1,draggable:!0,onDragEnd:n,onTransformEnd:g,onTransformStart:g,onClick:o,onTap:o,onDragStart:l,children:[r.hasBackground&&P.jsx(t.Rect,{x:-v,y:-y,width:S,height:E,fill:r.backgroundColor,opacity:r.backgroundOpacity,cornerRadius:r.backgroundRadius,shadowColor:r.isSelected?"#4A90E2":"transparent",shadowBlur:r.isSelected?5:0,shadowOpacity:r.isSelected?.3:0,stroke:r.hasBorder?r.borderColor:void 0,strokeWidth:r.hasBorder?r.borderWidth:0}),P.jsx(t.Text,{ref:d,id:r.id,text:r.text,x:_.x,fontVariant:r.fontVariant,y:_.y,fontSize:r.fontSize,fontFamily:r.fontFamily,fill:r.fill,fontStyle:r.fontStyle,opacity:r.opacity,align:r.align,width:r.hasBackground?h:void 0,stroke:r.hasBorder?r.borderColor:void 0,strokeWidth:r.hasBorder?r.borderWidth:0,padding:8,wrap:"none"})]}),r.isSelected&&s&&P.jsx(t.Transformer,{ref:s,boundBoxFunc:(e,t)=>t.width<20||t.height<20?e:t,rotateEnabled:!0,borderStroke:"#4A90E2",enabledAnchors:["top-left","top-right","bottom-left","bottom-right","bottom-center","top-center"],borderStrokeWidth:2,anchorFill:"#4A90E2",anchorStroke:"#4A90E2",anchorSize:8,keepRatio:!1,centeredScaling:!1}),r.isSelected&&s&&P.jsx(H,{x:j.x,y:j.y,onDelete:i})]})},B=e=>(t,r,n)=>{const a=n.subscribe;n.subscribe=(e,t,r)=>{let o=e;if(t){const a=(null==r?void 0:r.equalityFn)||Object.is;let s=e(n.getState());o=r=>{const n=e(r);if(!a(s,n)){const e=s;t(s=n,e)}},(null==r?void 0:r.fireImmediately)&&t(s,s)}return a(o)};return e(t,r,n)},F=s.create()(B(i.temporal((e,t)=>({stickers:[],availableStickers:[{name:"Sticker ",src:"/sticker.svg"},{name:"Sticker s",src:"/s.svg"},{name:"Sticker 1",src:"/1.svg"},{name:"Sticker 2",src:"/2.svg"},{name:"Sticker 3",src:"/3.svg"},{name:"Sticker 4",src:"/4.svg"},{name:"Sticker 5",src:"/5.svg"},{name:"Sticker 6",src:"/6.svg"}],textElements:[],currentTextInput:"",bgImageObj:null,canvasSize:{width:1024,height:700},maxZIndex:0,setStickers:t=>e(e=>({stickers:"function"==typeof t?t(e.stickers):t})),setAvailableStickers:t=>e(e=>({availableStickers:"function"==typeof t?t(e.availableStickers):t})),setTextElements:t=>e(e=>({textElements:"function"==typeof t?t(e.textElements):t})),setCurrentTextInput:t=>e({currentTextInput:t}),setBgImageObj:t=>e({bgImageObj:t}),setCanvasSize:t=>e({canvasSize:t}),setMaxZIndex:t=>e({maxZIndex:t}),bringToFront:(r,n)=>{const a=t(),o=a.maxZIndex+1;"text"===n?e({textElements:a.textElements.map(e=>e.id===r?Object.assign(Object.assign({},e),{zIndex:o}):e),maxZIndex:o}):"sticker"===n&&e({stickers:a.stickers.map(e=>e.id===r?Object.assign(Object.assign({},e),{zIndex:o}):e),maxZIndex:o})},clearSelectedStickers:()=>{e({stickers:t().stickers.map(e=>Object.assign(Object.assign({},e),{isSelected:!1}))})},update:t=>{e(e=>{var r,n,a,o,s,i,l;return{stickers:null!==(r=t.stickers)&&void 0!==r?r:e.stickers,availableStickers:null!==(n=t.availableStickers)&&void 0!==n?n:e.availableStickers,textElements:null!==(a=t.textElements)&&void 0!==a?a:e.textElements,currentTextInput:null!==(o=t.currentTextInput)&&void 0!==o?o:e.currentTextInput,bgImageObj:null!==(s=t.bgImageObj)&&void 0!==s?s:e.bgImageObj,canvasSize:null!==(i=t.canvasSize)&&void 0!==i?i:e.canvasSize,maxZIndex:null!==(l=t.maxZIndex)&&void 0!==l?l:e.maxZIndex}})}}),{partialize:e=>({stickers:e.stickers,textElements:e.textElements,maxZIndex:e.maxZIndex,bgImageObj:e.bgImageObj}),limit:50,equality:(e,t)=>JSON.stringify(e)===JSON.stringify(t)}))),U=()=>{const{undo:e,redo:t,clear:r}=F.temporal.getState();return{undo:e,redo:t,clear:r}},X=()=>{const{stickers:e,setStickers:t,availableStickers:r,setAvailableStickers:n,setTextElements:a,maxZIndex:o,setMaxZIndex:s,bringToFront:i}=F(),l=()=>{a(e=>e.map(e=>Object.assign(Object.assign({},e),{isSelected:!1})))};return{stickers:e,setStickers:t,availableStickers:r,addSticker:e=>{const r=o+1;t(t=>[...t.map(e=>Object.assign(Object.assign({},e),{isSelected:!1})),{id:`sticker-${Date.now()}`,x:100,y:100,rotation:0,scaleX:1,scaleY:1,isSelected:!0,src:e,zIndex:r}]),l(),s(r)},addAvailableSticker:e=>{n(t=>[...t,{name:`Sticker ${t.length+1}`,src:e}])},handleStickerDragEnd:(e,r)=>{t(t=>t.map(t=>t.id===e?Object.assign(Object.assign({},t),{x:r.target.x(),y:r.target.y()}):t))},handleStickerTransform:(e,r)=>{t(t=>t.map(t=>t.id===e?Object.assign(Object.assign({},t),{x:r.x(),y:r.y(),rotation:r.rotation(),scaleX:r.scaleX(),scaleY:r.scaleY()}):t))},handleStickerSelect:e=>{t(t=>t.map(t=>Object.assign(Object.assign({},t),{isSelected:t.id===e}))),l(),i(e,"sticker")},handleStickerRemove:e=>{t(t=>t.filter(t=>t.id!==e))},handleStickerDragStart:e=>{l(),t(t=>t.map(t=>Object.assign(Object.assign({},t),{isSelected:t.id===e})))}}},G={fontSize:30,fontFamily:"Arial",fill:"#000000",rotation:0,scaleX:1,scaleY:1,fontVariant:"normal",fontStyle:"normal",align:"center",opacity:1,hasBackground:!1,backgroundColor:"#ffffff",backgroundOpacity:.8,backgroundRadius:0,hasBorder:!1,borderColor:"#000000",borderWidth:2,zIndex:0},q=()=>{const{textElements:t,setTextElements:r,currentTextInput:n,setCurrentTextInput:a,maxZIndex:o,setMaxZIndex:s,bringToFront:i,clearSelectedStickers:l}=F(),c=e.useRef(null),u=e.useMemo(()=>t.find(e=>e.isSelected)||null,[t]),d=e=>{r(t=>t.map(t=>{const r=t.id===e;return r&&a(t.text),Object.assign(Object.assign({},t),{isSelected:r})}))},p=(e,t)=>{r(r=>r.map(r=>r.id===e?Object.assign(Object.assign({},r),t):r))},f=e=>{var n;const a=e||(null===(n=t.find(e=>e.isSelected))||void 0===n?void 0:n.id);a&&r(e=>e.filter(e=>e.id!==a))};return{textElements:t,selectedTextElement:u,currentTextInput:n,setTextContent:e=>{l();const n=t.find(e=>e.isSelected);n?(a(e),p(n.id,{text:e})):e.trim()&&(e=>{const t=o+1,n=Object.assign(Object.assign({id:`text-${Date.now()}-${Math.random()}`,text:e,x:200,y:200},G),{zIndex:t,isSelected:!0});r(e=>[...e.map(e=>Object.assign(Object.assign({},e),{isSelected:!1})),n]),s(t)})(e)},handleTextDragStart:e=>{l();const r=t.find(t=>t.id===e);r&&!r.isSelected&&d(e)},handleTextDragEnd:(e,t)=>{const r={x:t.target.x(),y:t.target.y()};p(e,r)},handleTextTransform:(e,t)=>{const r={x:t.x(),y:t.y(),rotation:t.rotation(),scaleX:t.scaleX(),scaleY:t.scaleY(),fontSize:t.fontSize()};p(e,r)},handleTextSelect:e=>{l(),d(e),i(e,"text")},removeText:f,handleStyleChange:(e,r)=>{const n=t.find(e=>e.isSelected);n&&p(n.id,{[e]:r})},makeCaps:()=>{const e=t.find(e=>e.isSelected);e&&p(e.id,{fontVariant:"normal"===e.fontVariant?"small-caps":"normal"})},deselectAll:()=>{r(e=>e.map(e=>Object.assign(Object.assign({},e),{isSelected:!1})));const e=t.find(e=>e.isSelected);e&&!e.text.trim()&&f(e.id),a("")},getCurrentTextStyle:()=>{const e=t.find(e=>e.isSelected)||G;return{fontSize:e.fontSize,fontFamily:e.fontFamily,fill:e.fill,fontStyle:e.fontStyle,align:e.align,opacity:e.opacity,hasBackground:e.hasBackground,backgroundColor:e.backgroundColor,backgroundOpacity:e.backgroundOpacity,backgroundRadius:e.backgroundRadius,hasBorder:e.hasBorder,borderColor:e.borderColor,borderWidth:e.borderWidth,zIndex:e.zIndex,fontVariant:e.fontVariant}},changeTextStyle:e=>{const r=t.find(e=>e.isSelected);r&&p(r.id,{fontStyle:e})},changeTextAlign:e=>{const r=t.find(e=>e.isSelected);r&&p(r.id,{align:e})},controlsRef:c}},V=()=>{const{textElements:t,removeText:r}=q(),{stickers:n,handleStickerRemove:a}=X(),o=e.useMemo(()=>{var e;return null===(e=t.find(e=>!0===e.isSelected))||void 0===e?void 0:e.id},[t]),s=e.useMemo(()=>{var e;return null===(e=n.find(e=>!0===e.isSelected))||void 0===e?void 0:e.id},[n]);e.useEffect(()=>{const e=e=>{const t=document.activeElement;"INPUT"===(null==t?void 0:t.tagName)||"TEXTAREA"===(null==t?void 0:t.tagName)||("Delete"!==e.key&&"Backspace"!==e.key||(e.preventDefault(),o?r(o):s&&a(s)),(e.ctrlKey||e.metaKey)&&"Delete"===e.key&&(e.preventDefault(),o?r(o):s&&a(s)),(e.ctrlKey||e.metaKey)&&"Backspace"===e.key&&(e.preventDefault(),o?r(o):s&&a(s)))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[o,s,r,a])},W=({stickerElement:r,onDragEnd:n,onTransform:a,onSelect:o,transformerRef:s,onDragStart:i,onStickerRemove:c})=>{V();const u=e.useRef(null),[d,p]=l(r.src,"anonymous"),[f,g]=e.useState({x:r.x,y:r.y});e.useEffect(()=>{var e;if(r.isSelected&&"loaded"===p&&(null==s?void 0:s.current)){const t=s.current.getStage(),n=null==t?void 0:t.findOne(`#${r.id}`);n&&(s.current.nodes([n]),null===(e=s.current.getLayer())||void 0===e||e.batchDraw()),h()}},[r.isSelected,p,s,r.id]),e.useEffect(()=>{r.isSelected&&"loaded"===p&&h()},[r.x,r.y,r.rotation,r.scaleX,r.scaleY,p]);const h=()=>{if(!u.current||"loaded"!==p)return;const e=u.current.getClientRect();g({x:e.x+e.width+20-10,y:e.y-20+7})};return P.jsxs(P.Fragment,{children:[P.jsx(t.Group,{ref:u,children:P.jsx(t.Image,{id:r.id,image:d,x:r.x,y:r.y,rotation:r.rotation,scaleX:r.scaleX,scaleY:r.scaleY,draggable:!0,onDragEnd:n,onDragStart:i,onTransformEnd:e=>{const t=e.target;a(t)},onClick:o,onTap:o})}),r.isSelected&&"loaded"===p&&s&&P.jsx(t.Transformer,{ref:s,rotateEnabled:!0,borderStroke:"#4A90E2",borderStrokeWidth:2,anchorFill:"#4A90E2",anchorStroke:"#4A90E2",anchorSize:8}),r.isSelected&&P.jsx(H,{x:f.x,y:f.y,onDelete:()=>c(r.id)})]})};function K(e){var{className:t,type:r}=e,n=D(e,["className","type"]);return P.jsx("input",Object.assign({type:r,"data-slot":"input",className:$("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t)},n))}var Y,Z={},Q={};function J(){if(Y)return Q;return Y=1,Q._=function(e){return e&&e.__esModule?e:{default:e}},Q}var ee,te={},re={};function ne(){return ee||(ee=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"warnOnce",{enumerable:!0,get:function(){return t}});let t=e=>{};if("production"!==process.env.NODE_ENV){const e=new Set;t=t=>{e.has(t),e.add(t)}}}(re)),re}var ae,oe={};var se,ie,le={};function ce(){return se||(se=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{VALID_LOADERS:function(){return t},imageConfigDefault:function(){return r}});const t=["default","imgix","cloudinary","akamai","custom"],r={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}}(le)),le}function ue(){return ie||(ie=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getImgProps",{enumerable:!0,get:function(){return d}});const t=ne(),r=(ae||(ae=1,function(e){function t(e){let{widthInt:t,heightInt:r,blurWidth:n,blurHeight:a,blurDataURL:o,objectFit:s}=e;const i=n?40*n:t,l=a?40*a:r,c=i&&l?"viewBox='0 0 "+i+" "+l+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+c+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(c?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+o+"'/%3E%3C/svg%3E"}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getImageBlurSvg",{enumerable:!0,get:function(){return t}})}(oe)),oe),n=ce(),a=["lazy","eager",void 0],o=["-moz-initial","fill","none","scale-down",void 0];function s(e){return void 0!==e.default}const i=new Map;let l;function c(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function u(e){let{config:t,src:r,unoptimized:n,width:a,quality:o,sizes:s,loader:i}=e;if(n)return{src:r,srcSet:void 0,sizes:void 0};const{widths:l,kind:c}=function(e,t,r){let{deviceSizes:n,allSizes:a}=e;if(r){const e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let n;n=e.exec(r);n)t.push(parseInt(n[2]));if(t.length){const e=.01*Math.min(...t);return{widths:a.filter(t=>t>=n[0]*e),kind:"w"}}return{widths:a,kind:"w"}}return"number"!=typeof t?{widths:n,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>a.find(t=>t>=e)||a[a.length-1]))],kind:"x"}}(t,a,s),u=l.length-1;return{sizes:s||"w"!==c?s:"100vw",srcSet:l.map((e,n)=>i({config:t,src:r,quality:o,width:e})+" "+("w"===c?e:n+1)+c).join(", "),src:i({config:t,src:r,quality:o,width:l[u]})}}function d(e,d){let{src:p,sizes:f,unoptimized:g=!1,priority:h=!1,loading:m,className:x,quality:b,width:v,height:y,fill:S=!1,style:E,overrideSrc:_,onLoad:j,onLoadingComplete:w,placeholder:R="empty",blurDataURL:O,fetchPriority:k,decoding:C="async",layout:N,objectFit:A,objectPosition:T,lazyBoundary:I,lazyRoot:P,...D}=e;const{imgConf:$,showAltText:L,blurComplete:z,defaultLoader:H}=d;let M,B=$||n.imageConfigDefault;if("allSizes"in B)M=B;else{var F;const e=[...B.deviceSizes,...B.imageSizes].sort((e,t)=>e-t),t=B.deviceSizes.sort((e,t)=>e-t),r=null==(F=B.qualities)?void 0:F.sort((e,t)=>e-t);M={...B,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===H)throw Object.defineProperty(new Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let U=D.loader||H;delete D.loader,delete D.srcSet;const X="__next_img_default"in U;if(X){if("custom"===M.loader)throw Object.defineProperty(new Error('Image with src "'+p+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{const e=U;U=t=>{const{config:r,...n}=t;return e(n)}}if(N){"fill"===N&&(S=!0);const e={responsive:"100vw",fill:"100vw"},t={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[N];t&&(E={...E,...t});const r=e[N];r&&!f&&(f=r)}let G,q,V="",W=c(v),K=c(y);if(function(e){return!!e&&"object"==typeof e&&(s(e)||function(e){return void 0!==e.src}(e))}(p)){const e=s(p)?p.default:p;if(!e.src)throw Object.defineProperty(new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!e.height||!e.width)throw Object.defineProperty(new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(G=e.blurWidth,q=e.blurHeight,O=O||e.blurDataURL,V=e.src,!S)if(W||K){if(W&&!K){const t=W/e.width;K=Math.round(e.height*t)}else if(!W&&K){const t=K/e.height;W=Math.round(e.width*t)}}else W=e.width,K=e.height}p="string"==typeof p?p:V;let Y=!h&&("lazy"===m||void 0===m);(!p||p.startsWith("data:")||p.startsWith("blob:"))&&(g=!0,Y=!1),M.unoptimized&&(g=!0),X&&!M.dangerouslyAllowSVG&&p.split("?",1)[0].endsWith(".svg")&&(g=!0);const Z=c(b);if("production"!==process.env.NODE_ENV){if("export"===M.output&&X&&!g)throw Object.defineProperty(new Error("Image Optimization using the default loader is not compatible with `{ output: 'export' }`.\n  Possible solutions:\n    - Remove `{ output: 'export' }` and run \"next start\" to run server mode including the Image Optimization API.\n    - Configure `{ images: { unoptimized: true } }` in `next.config.js` to disable the Image Optimization API.\n  Read more: https://nextjs.org/docs/messages/export-image-api"),"__NEXT_ERROR_CODE",{value:"E500",enumerable:!1,configurable:!0});if(p)if(S){if(v)throw Object.defineProperty(new Error('Image with src "'+p+'" has both "width" and "fill" properties. Only one should be used.'),"__NEXT_ERROR_CODE",{value:"E96",enumerable:!1,configurable:!0});if(y)throw Object.defineProperty(new Error('Image with src "'+p+'" has both "height" and "fill" properties. Only one should be used.'),"__NEXT_ERROR_CODE",{value:"E115",enumerable:!1,configurable:!0});if((null==E?void 0:E.position)&&"absolute"!==E.position)throw Object.defineProperty(new Error('Image with src "'+p+'" has both "fill" and "style.position" properties. Images with "fill" always use position absolute - it cannot be modified.'),"__NEXT_ERROR_CODE",{value:"E216",enumerable:!1,configurable:!0});if((null==E?void 0:E.width)&&"100%"!==E.width)throw Object.defineProperty(new Error('Image with src "'+p+'" has both "fill" and "style.width" properties. Images with "fill" always use width 100% - it cannot be modified.'),"__NEXT_ERROR_CODE",{value:"E73",enumerable:!1,configurable:!0});if((null==E?void 0:E.height)&&"100%"!==E.height)throw Object.defineProperty(new Error('Image with src "'+p+'" has both "fill" and "style.height" properties. Images with "fill" always use height 100% - it cannot be modified.'),"__NEXT_ERROR_CODE",{value:"E404",enumerable:!1,configurable:!0})}else{if(void 0===W)throw Object.defineProperty(new Error('Image with src "'+p+'" is missing required "width" property.'),"__NEXT_ERROR_CODE",{value:"E451",enumerable:!1,configurable:!0});if(isNaN(W))throw Object.defineProperty(new Error('Image with src "'+p+'" has invalid "width" property. Expected a numeric value in pixels but received "'+v+'".'),"__NEXT_ERROR_CODE",{value:"E66",enumerable:!1,configurable:!0});if(void 0===K)throw Object.defineProperty(new Error('Image with src "'+p+'" is missing required "height" property.'),"__NEXT_ERROR_CODE",{value:"E397",enumerable:!1,configurable:!0});if(isNaN(K))throw Object.defineProperty(new Error('Image with src "'+p+'" has invalid "height" property. Expected a numeric value in pixels but received "'+y+'".'),"__NEXT_ERROR_CODE",{value:"E444",enumerable:!1,configurable:!0});if(/^[\x00-\x20]/.test(p))throw Object.defineProperty(new Error('Image with src "'+p+'" cannot start with a space or control character. Use src.trimStart() to remove it or encodeURIComponent(src) to keep it.'),"__NEXT_ERROR_CODE",{value:"E176",enumerable:!1,configurable:!0});if(/[\x00-\x20]$/.test(p))throw Object.defineProperty(new Error('Image with src "'+p+'" cannot end with a space or control character. Use src.trimEnd() to remove it or encodeURIComponent(src) to keep it.'),"__NEXT_ERROR_CODE",{value:"E21",enumerable:!1,configurable:!0})}else g=!0;if(!a.includes(m))throw Object.defineProperty(new Error('Image with src "'+p+'" has invalid "loading" property. Provided "'+m+'" should be one of '+a.map(String).join(",")+"."),"__NEXT_ERROR_CODE",{value:"E357",enumerable:!1,configurable:!0});if(h&&"lazy"===m)throw Object.defineProperty(new Error('Image with src "'+p+'" has both "priority" and "loading=\'lazy\'" properties. Only one should be used.'),"__NEXT_ERROR_CODE",{value:"E218",enumerable:!1,configurable:!0});if("empty"!==R&&"blur"!==R&&!R.startsWith("data:image/"))throw Object.defineProperty(new Error('Image with src "'+p+'" has invalid "placeholder" property "'+R+'".'),"__NEXT_ERROR_CODE",{value:"E431",enumerable:!1,configurable:!0});if("empty"!==R&&W&&K&&W*K<1600&&(0,t.warnOnce)('Image with src "'+p+'" is smaller than 40x40. Consider removing the "placeholder" property to improve performance.'),"blur"===R&&!O){const e=["jpeg","png","webp","avif"];throw Object.defineProperty(new Error('Image with src "'+p+'" has "placeholder=\'blur\'" property but is missing the "blurDataURL" property.\n        Possible solutions:\n          - Add a "blurDataURL" property, the contents should be a small Data URL to represent the image\n          - Change the "src" property to a static import with one of the supported file types: '+e.join(",")+' (animated images not supported)\n          - Remove the "placeholder" property, effectively no blur effect\n        Read more: https://nextjs.org/docs/messages/placeholder-blur-data-url'),"__NEXT_ERROR_CODE",{value:"E371",enumerable:!1,configurable:!0})}if("ref"in D&&(0,t.warnOnce)('Image with src "'+p+'" is using unsupported "ref" property. Consider using the "onLoad" property instead.'),!g&&!X){const e=U({config:M,src:p,width:W||400,quality:Z||75});let r;try{r=new URL(e)}catch(e){}(e===p||r&&r.pathname===p&&!r.search)&&(0,t.warnOnce)('Image with src "'+p+'" has a "loader" property that does not implement width. Please implement it or use the "unoptimized" property instead.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader-width')}w&&(0,t.warnOnce)('Image with src "'+p+'" is using deprecated "onLoadingComplete" property. Please use the "onLoad" property instead.');for(const[e,r]of Object.entries({layout:N,objectFit:A,objectPosition:T,lazyBoundary:I,lazyRoot:P}))r&&(0,t.warnOnce)('Image with src "'+p+'" has legacy prop "'+e+'". Did you forget to run the codemod?\nRead more: https://nextjs.org/docs/messages/next-image-upgrade-to-13');if("undefined"!=typeof window&&!l&&window.PerformanceObserver){l=new PerformanceObserver(e=>{for(const n of e.getEntries()){var r;const e=(null==n||null==(r=n.element)?void 0:r.src)||"",a=i.get(e);!a||a.priority||"empty"!==a.placeholder||a.src.startsWith("data:")||a.src.startsWith("blob:")||(0,t.warnOnce)('Image with src "'+a.src+'" was detected as the Largest Contentful Paint (LCP). Please add the "priority" property if this image is above the fold.\nRead more: https://nextjs.org/docs/api-reference/next/image#priority')}});try{l.observe({type:"largest-contentful-paint",buffered:!0})}catch(e){}}}const Q=Object.assign(S?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:A,objectPosition:T}:{},L?{}:{color:"transparent"},E),J=z||"empty"===R?null:"blur"===R?'url("data:image/svg+xml;charset=utf-8,'+(0,r.getImageBlurSvg)({widthInt:W,heightInt:K,blurWidth:G,blurHeight:q,blurDataURL:O||"",objectFit:Q.objectFit})+'")':'url("'+R+'")',ee=o.includes(Q.objectFit)?"fill"===Q.objectFit?"100% 100%":"cover":Q.objectFit;let te=J?{backgroundSize:ee,backgroundPosition:Q.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:J}:{};"development"===process.env.NODE_ENV&&te.backgroundImage&&"blur"===R&&(null==O?void 0:O.startsWith("/"))&&(te.backgroundImage='url("'+O+'")');const re=u({config:M,src:p,unoptimized:g,width:W,quality:Z,sizes:f,loader:U});if("production"!==process.env.NODE_ENV&&"undefined"!=typeof window){let e;try{e=new URL(re.src)}catch(t){e=new URL(re.src,window.location.href)}i.set(e.href,{src:p,priority:h,placeholder:R})}return{props:{...D,loading:Y?"lazy":m,fetchPriority:k,width:W,height:K,decoding:C,className:x,style:{...Q,...te},sizes:re.sizes,srcSet:re.srcSet,src:_||re.src},meta:{unoptimized:g,priority:h,placeholder:R,fill:S}}}}(te)),te}var de,pe={exports:{}},fe={};function ge(){if(de)return fe;function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(e){return e?n:r})(t)}return de=1,fe._=function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var i=o?Object.getOwnPropertyDescriptor(t,s):null;i&&(i.get||i.set)?Object.defineProperty(a,s,i):a[s]=t[s]}return a.default=t,n&&n.set(t,a),a},fe}var he,me={exports:{}},xe={};var be,ve={};var ye,Se={};var Ee,_e,je={};function we(){return _e||(_e=1,function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{default:function(){return m},defaultHead:function(){return p}});const n=J(),a=ge(),o=I(),s=a._(e),i=n._((he||(he=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});const r=e,n="undefined"==typeof window,a=n?()=>{}:r.useLayoutEffect,o=n?()=>{}:r.useEffect;function s(e){const{headManager:t,reduceComponentsToState:s}=e;function i(){if(t&&t.mountedInstances){const n=r.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(s(n,e))}}var l;return n&&(null==t||null==(l=t.mountedInstances)||l.add(e.children),i()),a(()=>{var r;return null==t||null==(r=t.mountedInstances)||r.add(e.children),()=>{var r;null==t||null==(r=t.mountedInstances)||r.delete(e.children)}}),a(()=>(t&&(t._pendingUpdate=i),()=>{t&&(t._pendingUpdate=i)})),o(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}}(xe)),xe)),l=(be||(be=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AmpStateContext",{enumerable:!0,get:function(){return r}});const r=J()._(e).default.createContext({});"production"!==process.env.NODE_ENV&&(r.displayName="AmpStateContext")}(ve)),ve),c=(ye||(ye=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HeadManagerContext",{enumerable:!0,get:function(){return r}});const r=J()._(e).default.createContext({});"production"!==process.env.NODE_ENV&&(r.displayName="HeadManagerContext")}(Se)),Se),u=(Ee||(Ee=1,function(e){function t(e){let{ampFirst:t=!1,hybrid:r=!1,hasQuery:n=!1}=void 0===e?{}:e;return t||r&&n}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"isInAmpMode",{enumerable:!0,get:function(){return t}})}(je)),je),d=ne();function p(e){void 0===e&&(e=!1);const t=[(0,o.jsx)("meta",{charSet:"utf-8"},"charset")];return e||t.push((0,o.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),t}function f(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===s.default.Fragment?e.concat(s.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}const g=["name","httpEquiv","charSet","itemProp"];function h(e,t){const{inAmpMode:r}=t;return e.reduce(f,[]).reverse().concat(p(r).reverse()).filter(function(){const e=new Set,t=new Set,r=new Set,n={};return a=>{let o=!0,s=!1;if(a.key&&"number"!=typeof a.key&&a.key.indexOf("$")>0){s=!0;const t=a.key.slice(a.key.indexOf("$")+1);e.has(t)?o=!1:e.add(t)}switch(a.type){case"title":case"base":t.has(a.type)?o=!1:t.add(a.type);break;case"meta":for(let e=0,t=g.length;e<t;e++){const t=g[e];if(a.props.hasOwnProperty(t))if("charSet"===t)r.has(t)?o=!1:r.add(t);else{const e=a.props[t],r=n[t]||new Set;"name"===t&&s||!r.has(e)?(r.add(e),n[t]=r):o=!1}}}return o}}()).reverse().map((e,t)=>{const n=e.key||t;if("development"!==process.env.NODE_ENV&&process.env.__NEXT_OPTIMIZE_FONTS&&!r&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){const t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,s.default.cloneElement(e,t)}if("development"===process.env.NODE_ENV)if("script"===e.type&&"application/ld+json"!==e.props.type){const t=e.props.src?'<script> tag with src="'+e.props.src+'"':"inline <script>";(0,d.warnOnce)("Do not add <script> tags using next/head (see "+t+"). Use next/script instead. \nSee more info here: https://nextjs.org/docs/messages/no-script-tags-in-head-component")}else"link"===e.type&&"stylesheet"===e.props.rel&&(0,d.warnOnce)('Do not add stylesheets using next/head (see <link rel="stylesheet"> tag with href="'+e.props.href+'"). Use Document instead. \nSee more info here: https://nextjs.org/docs/messages/no-stylesheets-in-head-component');return s.default.cloneElement(e,{key:n})})}const m=function(e){let{children:t}=e;const r=(0,s.useContext)(l.AmpStateContext),n=(0,s.useContext)(c.HeadManagerContext);return(0,o.jsx)(i.default,{reduceComponentsToState:h,headManager:n,inAmpMode:(0,u.isInAmpMode)(r),children:t})};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)}(me,me.exports)),me.exports}var Re,Oe={};var ke,Ce={};var Ne,Ae,Te={},Ie={},Pe={exports:{}};function De(){return Ne||(Ne=1,(()=>{var e={170:(e,t,r)=>{const n=r(510),a=()=>{if("undefined"!=typeof navigator&&navigator.platform){const e=navigator.platform.toLowerCase();return"win32"===e||"windows"===e}return!("undefined"==typeof process||!process.platform)&&"win32"===process.platform};function o(e,t,r=!1){return!t||null!==t.windows&&void 0!==t.windows||(t={...t,windows:a()}),n(e,t,r)}Object.assign(o,n),e.exports=o},154:e=>{const t="\\\\/",r=`[^${t}]`,n="\\.",a="\\/",o="[^/]",s=`(?:${a}|$)`,i=`(?:^|${a})`,l=`${n}{1,2}${s}`,c={DOT_LITERAL:n,PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:a,ONE_CHAR:"(?=.)",QMARK:o,END_ANCHOR:s,DOTS_SLASH:l,NO_DOT:`(?!${n})`,NO_DOTS:`(?!${i}${l})`,NO_DOT_SLASH:`(?!${n}{0,1}${s})`,NO_DOTS_SLASH:`(?!${l})`,QMARK_NO_DOT:`[^.${a}]`,STAR:`${o}*?`,START_ANCHOR:i,SEP:"/"},u={...c,SLASH_LITERAL:`[${t}]`,QMARK:r,STAR:`${r}*?`,DOTS_SLASH:`${n}{1,2}(?:[${t}]|$)`,NO_DOT:`(?!${n})`,NO_DOTS:`(?!(?:^|[${t}])${n}{1,2}(?:[${t}]|$))`,NO_DOT_SLASH:`(?!${n}{0,1}(?:[${t}]|$))`,NO_DOTS_SLASH:`(?!${n}{1,2}(?:[${t}]|$))`,QMARK_NO_DOT:`[^.${t}]`,START_ANCHOR:`(?:^|[${t}])`,END_ANCHOR:`(?:[${t}]|$)`,SEP:"\\"};e.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?u:c}},697:(e,t,r)=>{const n=r(154),a=r(96),{MAX_LENGTH:o,POSIX_REGEX_SOURCE:s,REGEX_NON_SPECIAL_CHARS:i,REGEX_SPECIAL_CHARS_BACKREF:l,REPLACEMENTS:c}=n,u=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map(e=>a.escapeRegex(e)).join("..")}return r},d=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,p=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=c[e]||e;const r={...t},f="number"==typeof r.maxLength?Math.min(o,r.maxLength):o;let g=e.length;if(g>f)throw new SyntaxError(`Input length: ${g}, exceeds maximum allowed length: ${f}`);const h={type:"bos",value:"",output:r.prepend||""},m=[h],x=r.capture?"":"?:",b=n.globChars(r.windows),v=n.extglobChars(b),{DOT_LITERAL:y,PLUS_LITERAL:S,SLASH_LITERAL:E,ONE_CHAR:_,DOTS_SLASH:j,NO_DOT:w,NO_DOT_SLASH:R,NO_DOTS_SLASH:O,QMARK:k,QMARK_NO_DOT:C,STAR:N,START_ANCHOR:A}=b,T=e=>`(${x}(?:(?!${A}${e.dot?j:y}).)*?)`,I=r.dot?"":w,P=r.dot?k:C;let D=!0===r.bash?T(r):N;r.capture&&(D=`(${D})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);const $={input:e,index:-1,start:0,dot:!0===r.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:m};e=a.removePrefix(e,$),g=e.length;const L=[],z=[],H=[];let M,B=h;const F=()=>$.index===g-1,U=$.peek=(t=1)=>e[$.index+t],X=$.advance=()=>e[++$.index]||"",G=()=>e.slice($.index+1),q=(e="",t=0)=>{$.consumed+=e,$.index+=t},V=e=>{$.output+=null!=e.output?e.output:e.value,q(e.value)},W=()=>{let e=1;for(;"!"===U()&&("("!==U(2)||"?"===U(3));)X(),$.start++,e++;return e%2!=0&&($.negated=!0,$.start++,!0)},K=e=>{$[e]++,H.push(e)},Y=e=>{$[e]--,H.pop()},Z=e=>{if("globstar"===B.type){const t=$.braces>0&&("comma"===e.type||"brace"===e.type),r=!0===e.extglob||L.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||($.output=$.output.slice(0,-B.output.length),B.type="star",B.value="*",B.output=D,$.output+=B.output)}if(L.length&&"paren"!==e.type&&(L[L.length-1].inner+=e.value),(e.value||e.output)&&V(e),B&&"text"===B.type&&"text"===e.type)return B.output=(B.output||B.value)+e.value,void(B.value+=e.value);e.prev=B,m.push(e),B=e},Q=(e,t)=>{const n={...v[t],conditions:1,inner:""};n.prev=B,n.parens=$.parens,n.output=$.output;const a=(r.capture?"(":"")+n.open;K("parens"),Z({type:e,value:t,output:$.output?"":_}),Z({type:"paren",extglob:!0,value:X(),output:a}),L.push(n)},J=e=>{let n,a=e.close+(r.capture?")":"");if("negate"===e.type){let o=D;if(e.inner&&e.inner.length>1&&e.inner.includes("/")&&(o=T(r)),(o!==D||F()||/^\)+$/.test(G()))&&(a=e.close=`)$))${o}`),e.inner.includes("*")&&(n=G())&&/^\.[^\\/.]+$/.test(n)){const r=p(n,{...t,fastpaths:!1}).output;a=e.close=`)${r})${o})`}"bos"===e.prev.type&&($.negatedExtglob=!0)}Z({type:"paren",extglob:!0,value:M,output:a}),Y("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let n=!1,o=e.replace(l,(e,t,r,a,o,s)=>"\\"===a?(n=!0,e):"?"===a?t?t+a+(o?k.repeat(o.length):""):0===s?P+(o?k.repeat(o.length):""):k.repeat(r.length):"."===a?y.repeat(r.length):"*"===a?t?t+a+(o?D:""):D:t?e:`\\${e}`);return!0===n&&(o=!0===r.unescape?o.replace(/\\/g,""):o.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),o===e&&!0===r.contains?($.output=e,$):($.output=a.wrapOutput(o,$,t),$)}for(;!F();){if(M=X(),"\0"===M)continue;if("\\"===M){const e=U();if("/"===e&&!0!==r.bash)continue;if("."===e||";"===e)continue;if(!e){M+="\\",Z({type:"text",value:M});continue}const t=/^\\+/.exec(G());let n=0;if(t&&t[0].length>2&&(n=t[0].length,$.index+=n,n%2!=0&&(M+="\\")),!0===r.unescape?M=X():M+=X(),0===$.brackets){Z({type:"text",value:M});continue}}if($.brackets>0&&("]"!==M||"["===B.value||"[^"===B.value)){if(!1!==r.posix&&":"===M){const e=B.value.slice(1);if(e.includes("[")&&(B.posix=!0,e.includes(":"))){const e=B.value.lastIndexOf("["),t=B.value.slice(0,e),r=B.value.slice(e+2),n=s[r];if(n){B.value=t+n,$.backtrack=!0,X(),h.output||1!==m.indexOf(B)||(h.output=_);continue}}}("["===M&&":"!==U()||"-"===M&&"]"===U())&&(M=`\\${M}`),"]"!==M||"["!==B.value&&"[^"!==B.value||(M=`\\${M}`),!0===r.posix&&"!"===M&&"["===B.value&&(M="^"),B.value+=M,V({value:M});continue}if(1===$.quotes&&'"'!==M){M=a.escapeRegex(M),B.value+=M,V({value:M});continue}if('"'===M){$.quotes=1===$.quotes?0:1,!0===r.keepQuotes&&Z({type:"text",value:M});continue}if("("===M){K("parens"),Z({type:"paren",value:M});continue}if(")"===M){if(0===$.parens&&!0===r.strictBrackets)throw new SyntaxError(d("opening","("));const e=L[L.length-1];if(e&&$.parens===e.parens+1){J(L.pop());continue}Z({type:"paren",value:M,output:$.parens?")":"\\)"}),Y("parens");continue}if("["===M){if(!0!==r.nobracket&&G().includes("]"))K("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(d("closing","]"));M=`\\${M}`}Z({type:"bracket",value:M});continue}if("]"===M){if(!0===r.nobracket||B&&"bracket"===B.type&&1===B.value.length){Z({type:"text",value:M,output:`\\${M}`});continue}if(0===$.brackets){if(!0===r.strictBrackets)throw new SyntaxError(d("opening","["));Z({type:"text",value:M,output:`\\${M}`});continue}Y("brackets");const e=B.value.slice(1);if(!0===B.posix||"^"!==e[0]||e.includes("/")||(M=`/${M}`),B.value+=M,V({value:M}),!1===r.literalBrackets||a.hasRegexChars(e))continue;const t=a.escapeRegex(B.value);if($.output=$.output.slice(0,-B.value.length),!0===r.literalBrackets){$.output+=t,B.value=t;continue}B.value=`(${x}${t}|${B.value})`,$.output+=B.value;continue}if("{"===M&&!0!==r.nobrace){K("braces");const e={type:"brace",value:M,output:"(",outputIndex:$.output.length,tokensIndex:$.tokens.length};z.push(e),Z(e);continue}if("}"===M){const e=z[z.length-1];if(!0===r.nobrace||!e){Z({type:"text",value:M,output:M});continue}let t=")";if(!0===e.dots){const e=m.slice(),n=[];for(let t=e.length-1;t>=0&&(m.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&n.unshift(e[t].value);t=u(n,r),$.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const r=$.output.slice(0,e.outputIndex),n=$.tokens.slice(e.tokensIndex);e.value=e.output="\\{",M=t="\\}",$.output=r;for(const e of n)$.output+=e.output||e.value}Z({type:"brace",value:M,output:t}),Y("braces"),z.pop();continue}if("|"===M){L.length>0&&L[L.length-1].conditions++,Z({type:"text",value:M});continue}if(","===M){let e=M;const t=z[z.length-1];t&&"braces"===H[H.length-1]&&(t.comma=!0,e="|"),Z({type:"comma",value:M,output:e});continue}if("/"===M){if("dot"===B.type&&$.index===$.start+1){$.start=$.index+1,$.consumed="",$.output="",m.pop(),B=h;continue}Z({type:"slash",value:M,output:E});continue}if("."===M){if($.braces>0&&"dot"===B.type){"."===B.value&&(B.output=y);const e=z[z.length-1];B.type="dots",B.output+=M,B.value+=M,e.dots=!0;continue}if($.braces+$.parens===0&&"bos"!==B.type&&"slash"!==B.type){Z({type:"text",value:M,output:y});continue}Z({type:"dot",value:M,output:y});continue}if("?"===M){if(!(B&&"("===B.value)&&!0!==r.noextglob&&"("===U()&&"?"!==U(2)){Q("qmark",M);continue}if(B&&"paren"===B.type){const e=U();let t=M;("("===B.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(G()))&&(t=`\\${M}`),Z({type:"text",value:M,output:t});continue}if(!0!==r.dot&&("slash"===B.type||"bos"===B.type)){Z({type:"qmark",value:M,output:C});continue}Z({type:"qmark",value:M,output:k});continue}if("!"===M){if(!0!==r.noextglob&&"("===U()&&("?"!==U(2)||!/[!=<:]/.test(U(3)))){Q("negate",M);continue}if(!0!==r.nonegate&&0===$.index){W();continue}}if("+"===M){if(!0!==r.noextglob&&"("===U()&&"?"!==U(2)){Q("plus",M);continue}if(B&&"("===B.value||!1===r.regex){Z({type:"plus",value:M,output:S});continue}if(B&&("bracket"===B.type||"paren"===B.type||"brace"===B.type)||$.parens>0){Z({type:"plus",value:M});continue}Z({type:"plus",value:S});continue}if("@"===M){if(!0!==r.noextglob&&"("===U()&&"?"!==U(2)){Z({type:"at",extglob:!0,value:M,output:""});continue}Z({type:"text",value:M});continue}if("*"!==M){"$"!==M&&"^"!==M||(M=`\\${M}`);const e=i.exec(G());e&&(M+=e[0],$.index+=e[0].length),Z({type:"text",value:M});continue}if(B&&("globstar"===B.type||!0===B.star)){B.type="star",B.star=!0,B.value+=M,B.output=D,$.backtrack=!0,$.globstar=!0,q(M);continue}let t=G();if(!0!==r.noextglob&&/^\([^?]/.test(t)){Q("star",M);continue}if("star"===B.type){if(!0===r.noglobstar){q(M);continue}const n=B.prev,a=n.prev,o="slash"===n.type||"bos"===n.type,s=a&&("star"===a.type||"globstar"===a.type);if(!0===r.bash&&(!o||t[0]&&"/"!==t[0])){Z({type:"star",value:M,output:""});continue}const i=$.braces>0&&("comma"===n.type||"brace"===n.type),l=L.length&&("pipe"===n.type||"paren"===n.type);if(!o&&"paren"!==n.type&&!i&&!l){Z({type:"star",value:M,output:""});continue}for(;"/**"===t.slice(0,3);){const r=e[$.index+4];if(r&&"/"!==r)break;t=t.slice(3),q("/**",3)}if("bos"===n.type&&F()){B.type="globstar",B.value+=M,B.output=T(r),$.output=B.output,$.globstar=!0,q(M);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!s&&F()){$.output=$.output.slice(0,-(n.output+B.output).length),n.output=`(?:${n.output}`,B.type="globstar",B.output=T(r)+(r.strictSlashes?")":"|$)"),B.value+=M,$.globstar=!0,$.output+=n.output+B.output,q(M);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";$.output=$.output.slice(0,-(n.output+B.output).length),n.output=`(?:${n.output}`,B.type="globstar",B.output=`${T(r)}${E}|${E}${e})`,B.value+=M,$.output+=n.output+B.output,$.globstar=!0,q(M+X()),Z({type:"slash",value:"/",output:""});continue}if("bos"===n.type&&"/"===t[0]){B.type="globstar",B.value+=M,B.output=`(?:^|${E}|${T(r)}${E})`,$.output=B.output,$.globstar=!0,q(M+X()),Z({type:"slash",value:"/",output:""});continue}$.output=$.output.slice(0,-B.output.length),B.type="globstar",B.output=T(r),B.value+=M,$.output+=B.output,$.globstar=!0,q(M);continue}const n={type:"star",value:M,output:D};!0!==r.bash?!B||"bracket"!==B.type&&"paren"!==B.type||!0!==r.regex?($.index!==$.start&&"slash"!==B.type&&"dot"!==B.type||("dot"===B.type?($.output+=R,B.output+=R):!0===r.dot?($.output+=O,B.output+=O):($.output+=I,B.output+=I),"*"!==U()&&($.output+=_,B.output+=_)),Z(n)):(n.output=M,Z(n)):(n.output=".*?","bos"!==B.type&&"slash"!==B.type||(n.output=I+n.output),Z(n))}for(;$.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing","]"));$.output=a.escapeLast($.output,"["),Y("brackets")}for(;$.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing",")"));$.output=a.escapeLast($.output,"("),Y("parens")}for(;$.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing","}"));$.output=a.escapeLast($.output,"{"),Y("braces")}if(!0===r.strictSlashes||"star"!==B.type&&"bracket"!==B.type||Z({type:"maybe_slash",value:"",output:`${E}?`}),!0===$.backtrack){$.output="";for(const e of $.tokens)$.output+=null!=e.output?e.output:e.value,e.suffix&&($.output+=e.suffix)}return $};p.fastpaths=(e,t)=>{const r={...t},s="number"==typeof r.maxLength?Math.min(o,r.maxLength):o,i=e.length;if(i>s)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${s}`);e=c[e]||e;const{DOT_LITERAL:l,SLASH_LITERAL:u,ONE_CHAR:d,DOTS_SLASH:p,NO_DOT:f,NO_DOTS:g,NO_DOTS_SLASH:h,STAR:m,START_ANCHOR:x}=n.globChars(r.windows),b=r.dot?g:f,v=r.dot?h:f,y=r.capture?"":"?:";let S=!0===r.bash?".*?":m;r.capture&&(S=`(${S})`);const E=e=>!0===e.noglobstar?S:`(${y}(?:(?!${x}${e.dot?p:l}).)*?)`,_=e=>{switch(e){case"*":return`${b}${d}${S}`;case".*":return`${l}${d}${S}`;case"*.*":return`${b}${S}${l}${d}${S}`;case"*/*":return`${b}${S}${u}${d}${v}${S}`;case"**":return b+E(r);case"**/*":return`(?:${b}${E(r)}${u})?${v}${d}${S}`;case"**/*.*":return`(?:${b}${E(r)}${u})?${v}${S}${l}${d}${S}`;case"**/.*":return`(?:${b}${E(r)}${u})?${l}${d}${S}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const r=_(t[1]);if(!r)return;return r+l+t[2]}}},j=a.removePrefix(e,{negated:!1,prefix:""});let w=_(j);return w&&!0!==r.strictSlashes&&(w+=`${u}?`),w},e.exports=p},510:(e,t,r)=>{const n=r(716),a=r(697),o=r(96),s=r(154),i=(e,t,r=!1)=>{if(Array.isArray(e)){const n=e.map(e=>i(e,t,r)),a=e=>{for(const t of n){const r=t(e);if(r)return r}return!1};return a}const n=(e=>e&&"object"==typeof e&&!Array.isArray(e))(e)&&e.tokens&&e.input;if(""===e||"string"!=typeof e&&!n)throw new TypeError("Expected pattern to be a non-empty string");const a=t||{},o=a.windows,s=n?i.compileRe(e,t):i.makeRe(e,t,!1,!0),l=s.state;delete s.state;let c=()=>!1;if(a.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};c=i(a.ignore,e,r)}const u=(r,n=!1)=>{const{isMatch:u,match:d,output:p}=i.test(r,s,t,{glob:e,posix:o}),f={glob:e,state:l,regex:s,posix:o,input:r,output:p,match:d,isMatch:u};return"function"==typeof a.onResult&&a.onResult(f),!1===u?(f.isMatch=!1,!!n&&f):c(r)?("function"==typeof a.onIgnore&&a.onIgnore(f),f.isMatch=!1,!!n&&f):("function"==typeof a.onMatch&&a.onMatch(f),!n||f)};return r&&(u.state=l),u};i.test=(e,t,r,{glob:n,posix:a}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const s=r||{},l=s.format||(a?o.toPosixSlashes:null);let c=e===n,u=c&&l?l(e):e;return!1===c&&(u=l?l(e):e,c=u===n),!1!==c&&!0!==s.capture||(c=!0===s.matchBase||!0===s.basename?i.matchBase(e,t,r,a):t.exec(u)),{isMatch:Boolean(c),match:c,output:u}},i.matchBase=(e,t,r)=>(t instanceof RegExp?t:i.makeRe(t,r)).test(o.basename(e)),i.isMatch=(e,t,r)=>i(t,r)(e),i.parse=(e,t)=>Array.isArray(e)?e.map(e=>i.parse(e,t)):a(e,{...t,fastpaths:!1}),i.scan=(e,t)=>n(e,t),i.compileRe=(e,t,r=!1,n=!1)=>{if(!0===r)return e.output;const a=t||{},o=a.contains?"":"^",s=a.contains?"":"$";let l=`${o}(?:${e.output})${s}`;e&&!0===e.negated&&(l=`^(?!${l}).*$`);const c=i.toRegex(l,t);return!0===n&&(c.state=e),c},i.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let o={negated:!1,fastpaths:!0};return!1===t.fastpaths||"."!==e[0]&&"*"!==e[0]||(o.output=a.fastpaths(e,t)),o.output||(o=a(e,t)),i.compileRe(o,t,r,n)},i.toRegex=(e,t)=>{try{const r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},i.constants=s,e.exports=i},716:(e,t,r)=>{const n=r(96),{CHAR_ASTERISK:a,CHAR_AT:o,CHAR_BACKWARD_SLASH:s,CHAR_COMMA:i,CHAR_DOT:l,CHAR_EXCLAMATION_MARK:c,CHAR_FORWARD_SLASH:u,CHAR_LEFT_CURLY_BRACE:d,CHAR_LEFT_PARENTHESES:p,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_PLUS:g,CHAR_QUESTION_MARK:h,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:x,CHAR_RIGHT_SQUARE_BRACKET:b}=r(154),v=e=>e===u||e===s,y=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};e.exports=(e,t)=>{const r=t||{},S=e.length-1,E=!0===r.parts||!0===r.scanToEnd,_=[],j=[],w=[];let R,O,k=e,C=-1,N=0,A=0,T=!1,I=!1,P=!1,D=!1,$=!1,L=!1,z=!1,H=!1,M=!1,B=!1,F=0,U={value:"",depth:0,isGlob:!1};const X=()=>C>=S,G=()=>k.charCodeAt(C+1),q=()=>(R=O,k.charCodeAt(++C));for(;C<S;){let e;if(O=q(),O!==s){if(!0===L||O===d){for(F++;!0!==X()&&(O=q());)if(O!==s)if(O!==d){if(!0!==L&&O===l&&(O=q())===l){if(T=U.isBrace=!0,P=U.isGlob=!0,B=!0,!0===E)continue;break}if(!0!==L&&O===i){if(T=U.isBrace=!0,P=U.isGlob=!0,B=!0,!0===E)continue;break}if(O===m&&(F--,0===F)){L=!1,T=U.isBrace=!0,B=!0;break}}else F++;else z=U.backslashes=!0,q();if(!0===E)continue;break}if(O!==u){if(!0!==r.noext){if(!0===(O===g||O===o||O===a||O===h||O===c)&&G()===p){if(P=U.isGlob=!0,D=U.isExtglob=!0,B=!0,O===c&&C===N&&(M=!0),!0===E){for(;!0!==X()&&(O=q());)if(O!==s){if(O===x){P=U.isGlob=!0,B=!0;break}}else z=U.backslashes=!0,O=q();continue}break}}if(O===a){if(R===a&&($=U.isGlobstar=!0),P=U.isGlob=!0,B=!0,!0===E)continue;break}if(O===h){if(P=U.isGlob=!0,B=!0,!0===E)continue;break}if(O===f){for(;!0!==X()&&(e=q());)if(e!==s){if(e===b){I=U.isBracket=!0,P=U.isGlob=!0,B=!0;break}}else z=U.backslashes=!0,q();if(!0===E)continue;break}if(!0===r.nonegate||O!==c||C!==N){if(!0!==r.noparen&&O===p){if(P=U.isGlob=!0,!0===E){for(;!0!==X()&&(O=q());)if(O!==p){if(O===x){B=!0;break}}else z=U.backslashes=!0,O=q();continue}break}if(!0===P){if(B=!0,!0===E)continue;break}}else H=U.negated=!0,N++}else{if(_.push(C),j.push(U),U={value:"",depth:0,isGlob:!1},!0===B)continue;if(R===l&&C===N+1){N+=2;continue}A=C+1}}else z=U.backslashes=!0,O=q(),O===d&&(L=!0)}!0===r.noext&&(D=!1,P=!1);let V=k,W="",K="";N>0&&(W=k.slice(0,N),k=k.slice(N),A-=N),V&&!0===P&&A>0?(V=k.slice(0,A),K=k.slice(A)):!0===P?(V="",K=k):V=k,V&&""!==V&&"/"!==V&&V!==k&&v(V.charCodeAt(V.length-1))&&(V=V.slice(0,-1)),!0===r.unescape&&(K&&(K=n.removeBackslashes(K)),V&&!0===z&&(V=n.removeBackslashes(V)));const Y={prefix:W,input:e,start:N,base:V,glob:K,isBrace:T,isBracket:I,isGlob:P,isExtglob:D,isGlobstar:$,negated:H,negatedExtglob:M};if(!0===r.tokens&&(Y.maxDepth=0,v(O)||j.push(U),Y.tokens=j),!0===r.parts||!0===r.tokens){let t;for(let n=0;n<_.length;n++){const a=t?t+1:N,o=_[n],s=e.slice(a,o);r.tokens&&(0===n&&0!==N?(j[n].isPrefix=!0,j[n].value=W):j[n].value=s,y(j[n]),Y.maxDepth+=j[n].depth),0===n&&""===s||w.push(s),t=o}if(t&&t+1<e.length){const n=e.slice(t+1);w.push(n),r.tokens&&(j[j.length-1].value=n,y(j[j.length-1]),Y.maxDepth+=j[j.length-1].depth)}Y.slashes=_,Y.parts=w}return Y}},96:(e,t,r)=>{const{REGEX_BACKSLASH:n,REGEX_REMOVE_BACKSLASH:a,REGEX_SPECIAL_CHARS:o,REGEX_SPECIAL_CHARS_GLOBAL:s}=r(154);t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>o.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(s,"\\$1"),t.toPosixSlashes=e=>e.replace(n,"/"),t.removeBackslashes=e=>e.replace(a,e=>"\\"===e?"":e),t.escapeLast=(e,r,n)=>{const a=e.lastIndexOf(r,n);return-1===a?e:"\\"===e[a-1]?t.escapeLast(e,r,a-1):`${e.slice(0,a)}\\${e.slice(a)}`},t.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r},t.wrapOutput=(e,t={},r={})=>{let n=`${r.contains?"":"^"}(?:${e})${r.contains?"":"$"}`;return!0===t.negated&&(n=`(?:^(?!${n}).*$)`),n},t.basename=(e,{windows:t}={})=>{const r=e.split(t?/[\\/]/:"/"),n=r[r.length-1];return""===n?r[r.length-2]:n}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}},s=!0;try{e[n](o,o.exports,r),s=!1}finally{s&&delete t[n]}return o.exports}void 0!==r&&(r.ab=__dirname+"/");var n=r(170);Pe.exports=n})()),Pe.exports}var $e,Le,ze={};function He(){return Le||(Le=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});function t(e){let{config:t,src:r,width:n,quality:a}=e;var o;if("production"!==process.env.NODE_ENV){const e=[];if(r||e.push("src"),n||e.push("width"),e.length>0)throw Object.defineProperty(new Error("Next Image Optimization requires "+e.join(", ")+" to be provided. Make sure you pass them as props to the `next/image` component. Received: "+JSON.stringify({src:r,width:n,quality:a})),"__NEXT_ERROR_CODE",{value:"E188",enumerable:!1,configurable:!0});if(r.startsWith("//"))throw Object.defineProperty(new Error('Failed to parse src "'+r+'" on `next/image`, protocol-relative URL (//) must be changed to an absolute URL (http:// or https://)'),"__NEXT_ERROR_CODE",{value:"E360",enumerable:!1,configurable:!0});if(r.startsWith("/")&&t.localPatterns&&"test"!==process.env.NODE_ENV&&"edge"!==process.env.NEXT_RUNTIME){const{hasLocalMatch:e}=(Ae||(Ae=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{hasLocalMatch:function(){return n},matchLocalPattern:function(){return r}});const t=De();function r(e,r){return(void 0===e.search||e.search===r.search)&&!!(0,t.makeRe)(null!=(n=e.pathname)?n:"**",{dot:!0}).test(r.pathname);var n}function n(e,t){if(!e)return!0;const n=new URL(t,"http://n");return e.some(e=>r(e,n))}}(Ie)),Ie);if(!e(t.localPatterns,r))throw Object.defineProperty(new Error("Invalid src prop ("+r+") on `next/image` does not match `images.localPatterns` configured in your `next.config.js`\nSee more info: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns"),"__NEXT_ERROR_CODE",{value:"E426",enumerable:!1,configurable:!0})}if(!r.startsWith("/")&&(t.domains||t.remotePatterns)){let e;try{e=new URL(r)}catch(e){throw Object.defineProperty(new Error('Failed to parse src "'+r+'" on `next/image`, if using relative image it must start with a leading slash "/" or be an absolute URL (http:// or https://)'),"__NEXT_ERROR_CODE",{value:"E63",enumerable:!1,configurable:!0})}if("test"!==process.env.NODE_ENV&&"edge"!==process.env.NEXT_RUNTIME){const{hasRemoteMatch:n}=($e||($e=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{hasRemoteMatch:function(){return n},matchRemotePattern:function(){return r}});const t=De();function r(e,r){if(void 0!==e.protocol&&e.protocol.replace(/:$/,"")!==r.protocol.replace(/:$/,""))return!1;if(void 0!==e.port&&e.port!==r.port)return!1;if(void 0===e.hostname)throw Object.defineProperty(new Error("Pattern should define hostname but found\n"+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E410",enumerable:!1,configurable:!0});return!(!(0,t.makeRe)(e.hostname).test(r.hostname)||void 0!==e.search&&e.search!==r.search||!(0,t.makeRe)(null!=(n=e.pathname)?n:"**",{dot:!0}).test(r.pathname));var n}function n(e,t,n){return e.some(e=>n.hostname===e)||t.some(e=>r(e,n))}}(ze)),ze);if(!n(t.domains,t.remotePatterns,e))throw Object.defineProperty(new Error("Invalid src prop ("+r+') on `next/image`, hostname "'+e.hostname+'" is not configured under images in your `next.config.js`\nSee more info: https://nextjs.org/docs/messages/next-image-unconfigured-host'),"__NEXT_ERROR_CODE",{value:"E231",enumerable:!1,configurable:!0})}}if(a&&t.qualities&&!t.qualities.includes(a))throw Object.defineProperty(new Error("Invalid quality prop ("+a+") on `next/image` does not match `images.qualities` configured in your `next.config.js`\nSee more info: https://nextjs.org/docs/messages/next-image-unconfigured-qualities"),"__NEXT_ERROR_CODE",{value:"E623",enumerable:!1,configurable:!0})}const s=a||(null==(o=t.qualities)?void 0:o.reduce((e,t)=>Math.abs(t-75)<Math.abs(e-75)?t:e))||75;return t.path+"?url="+encodeURIComponent(r)+"&w="+n+"&q="+s+(r.startsWith("/_next/static/media/")&&process.env.NEXT_DEPLOYMENT_ID?"&dpl="+process.env.NEXT_DEPLOYMENT_ID:"")}t.__next_img_default=!0;const r=t}(Te)),Te}var Me,Be,Fe,Ue,Xe,Ge={exports:{}};function qe(){return Be||(Be=1,function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return E}});const n=J(),a=ge(),o=I(),s=a._(e),i=n._(c),l=n._(we()),u=ue(),d=ce(),p=(Re||(Re=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageConfigContext",{enumerable:!0,get:function(){return a}});const r=J()._(e),n=ce(),a=r.default.createContext(n.imageConfigDefault);"production"!==process.env.NODE_ENV&&(a.displayName="ImageConfigContext")}(Oe)),Oe),f=ne(),g=(ke||(ke=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return r}});const r=J()._(e).default.createContext(null);"production"!==process.env.NODE_ENV&&(r.displayName="RouterContext")}(Ce)),Ce),h=n._(He()),m=(Me||(Me=1,function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return a}});const n=e;function a(e,t){const r=(0,n.useRef)(null),a=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){const e=r.current;e&&(r.current=null,e());const t=a.current;t&&(a.current=null,t())}else e&&(r.current=o(e,n)),t&&(a.current=o(t,n))},[e,t])}function o(e,t){if("function"==typeof e){const r=e(t);return"function"==typeof r?r:()=>e(null)}return e.current=t,()=>{e.current=null}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)}(Ge,Ge.exports)),Ge.exports),x=process.env.__NEXT_IMAGE_OPTS;function b(e,t,r,n,a,o,s){const i=null==e?void 0:e.src;if(!e||e["data-loaded-src"]===i)return;e["data-loaded-src"]=i;("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&a(!0),null==r?void 0:r.current){const t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let n=!1,a=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>n,isPropagationStopped:()=>a,persist:()=>{},preventDefault:()=>{n=!0,t.preventDefault()},stopPropagation:()=>{a=!0,t.stopPropagation()}})}if((null==n?void 0:n.current)&&n.current(e),"production"!==process.env.NODE_ENV){const t=new URL(i,"http://n").searchParams.get("url")||i;if("fill"===e.getAttribute("data-nimg")){if(!(o||s&&"100vw"!==s)){e.getBoundingClientRect().width/window.innerWidth<.6&&("100vw"===s?(0,f.warnOnce)('Image with src "'+t+'" has "fill" prop and "sizes" prop of "100vw", but image is not rendered at full viewport width. Please adjust "sizes" to improve page performance. Read more: https://nextjs.org/docs/api-reference/next/image#sizes'):(0,f.warnOnce)('Image with src "'+t+'" has "fill" but is missing "sizes" prop. Please add it to improve page performance. Read more: https://nextjs.org/docs/api-reference/next/image#sizes'))}if(e.parentElement){const{position:r}=window.getComputedStyle(e.parentElement),n=["absolute","fixed","relative"];n.includes(r)||(0,f.warnOnce)('Image with src "'+t+'" has "fill" and parent element with invalid "position". Provided "'+r+'" should be one of '+n.map(String).join(",")+".")}0===e.height&&(0,f.warnOnce)('Image with src "'+t+'" has "fill" and a height value of 0. This is likely because the parent element of the image has not been styled to have a set height.')}const r=e.height.toString()!==e.getAttribute("height"),n=e.width.toString()!==e.getAttribute("width");(r&&!n||!r&&n)&&(0,f.warnOnce)('Image with src "'+t+'" has either width or height modified, but not the other. If you use CSS to change the size of your image, also include the styles \'width: "auto"\' or \'height: "auto"\' to maintain the aspect ratio.')}}})}function v(e){return Boolean(s.use)?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);const y=(0,s.forwardRef)((e,t)=>{let{src:r,srcSet:n,sizes:a,height:i,width:l,decoding:c,className:u,style:d,fetchPriority:p,placeholder:f,loading:g,unoptimized:h,fill:x,onLoadRef:y,onLoadingCompleteRef:S,setBlurComplete:E,setShowAltText:_,sizesInput:j,onLoad:w,onError:R,...O}=e;const k=(0,s.useCallback)(e=>{e&&(R&&(e.src=e.src),"production"!==process.env.NODE_ENV&&e.getAttribute("alt"),e.complete&&b(e,f,y,S,E,h,j))},[r,f,y,S,E,R,h,j]),C=(0,m.useMergedRef)(t,k);return(0,o.jsx)("img",{...O,...v(p),loading:g,width:l,height:i,decoding:c,"data-nimg":x?"fill":"1",className:u,style:d,sizes:a,srcSet:n,src:r,ref:C,onLoad:e=>{b(e.currentTarget,f,y,S,E,h,j)},onError:e=>{_(!0),"empty"!==f&&E(!0),R&&R(e)}})});function S(e){let{isAppRouter:t,imgAttributes:r}=e;const n={as:"image",imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:r.crossOrigin,referrerPolicy:r.referrerPolicy,...v(r.fetchPriority)};return t&&i.default.preload?(i.default.preload(r.src,n),null):(0,o.jsx)(l.default,{children:(0,o.jsx)("link",{rel:"preload",href:r.srcSet?void 0:r.src,...n},"__nimg-"+r.src+r.srcSet+r.sizes)})}const E=(0,s.forwardRef)((e,t)=>{const r=!(0,s.useContext)(g.RouterContext),n=(0,s.useContext)(p.ImageConfigContext),a=(0,s.useMemo)(()=>{var e;const t=x||n||d.imageConfigDefault,r=[...t.deviceSizes,...t.imageSizes].sort((e,t)=>e-t),a=t.deviceSizes.sort((e,t)=>e-t),o=null==(e=t.qualities)?void 0:e.sort((e,t)=>e-t);return{...t,allSizes:r,deviceSizes:a,qualities:o}},[n]),{onLoad:i,onLoadingComplete:l}=e,c=(0,s.useRef)(i);(0,s.useEffect)(()=>{c.current=i},[i]);const f=(0,s.useRef)(l);(0,s.useEffect)(()=>{f.current=l},[l]);const[m,b]=(0,s.useState)(!1),[v,E]=(0,s.useState)(!1),{props:_,meta:j}=(0,u.getImgProps)(e,{defaultLoader:h.default,imgConf:a,blurComplete:m,showAltText:v});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(y,{..._,unoptimized:j.unoptimized,placeholder:j.placeholder,fill:j.fill,onLoadRef:c,onLoadingCompleteRef:f,setBlurComplete:b,setShowAltText:E,sizesInput:e.sizes,ref:t}),j.priority?(0,o.jsx)(S,{isAppRouter:r,imgAttributes:_}):null]})});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)}(pe,pe.exports)),pe.exports}var Ve=Xe?Ue:(Xe=1,Fe||(Fe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(e,{default:function(){return s},getImageProps:function(){return o}});const t=J(),r=ue(),n=qe(),a=t._(He());function o(e){const{props:t}=(0,r.getImgProps)(e,{defaultLoader:a.default,imgConf:process.env.__NEXT_IMAGE_OPTS});for(const[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}const s=n.Image}(Z)),Ue=Z),We=w(Ve);const Ke=({availableStickers:t,addSticker:r,addAvailableSticker:n})=>{const a=e.useRef(null);return P.jsx("div",{className:"p-4 rounded-lg border bg-gray-900",children:P.jsx("div",{className:"space-y-4",children:P.jsxs("div",{children:[P.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.map(e=>P.jsx(z,{variant:"outline",onClick:()=>{return t=e.src,void r(t);var t},children:P.jsx(We,{height:0,width:0,src:e.src,alt:e.name,className:"w-7 h-7"})},e.src))}),P.jsx(K,{type:"file",accept:"image/*",ref:a,onChange:e=>{var t;const a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;const o=new FileReader;o.onload=e=>{var t;const a=null===(t=e.target)||void 0===t?void 0:t.result;n(a),r(a)},o.readAsDataURL(a)},className:"mt-2"})]})})})},Ye=()=>{const{undo:e,redo:t}=U();return P.jsxs("div",{className:"p-4 rounded-lg border bg-gray-900",children:[P.jsx("h3",{className:"text-lg font-semibold mb-4",children:"History"}),P.jsxs("div",{className:"flex gap-2",children:[P.jsxs(z,{variant:"outline",size:"sm",onClick:()=>e(1),className:"flex items-center gap-2",children:[P.jsx(u.Undo,{className:"w-4 h-4"}),"Undo"]}),P.jsxs(z,{variant:"outline",size:"sm",onClick:()=>t(1),className:"flex items-center gap-2",children:[P.jsx(u.Redo,{className:"w-4 h-4"}),"Redo"]})]})]})},Ze=({bgImageObj:t,onBackgroundUpload:r,onRemoveBackground:n})=>{const a=e.useRef(null),o=()=>{var e;null===(e=a.current)||void 0===e||e.click()};return P.jsx("div",{className:"p-4 rounded-lg border bg-gray-900",children:P.jsxs("div",{className:"space-y-4",children:[P.jsx("h3",{className:"text-sm font-medium text-white",children:"Background Image"}),t?P.jsxs("div",{className:"space-y-3",children:[P.jsx("div",{className:"flex items-center justify-between",children:P.jsxs(z,{variant:"destructive",size:"sm",onClick:n,children:[P.jsx(u.X,{className:"h-4 w-4"}),"Remove"]})}),P.jsxs(z,{variant:"outline",onClick:o,className:"w-full",children:[P.jsx(u.Upload,{className:"h-4 w-4 mr-2"}),"Change Background"]})]}):P.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-600 rounded-lg",children:[P.jsx(u.Upload,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),P.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Upload a background image to get started"}),P.jsx(z,{onClick:o,className:"mb-2",children:"Upload Background"}),P.jsx("p",{className:"text-xs text-gray-500",children:"You need to upload a background image before adding text or stickers"})]}),P.jsx(K,{type:"file",accept:"image/*",ref:a,onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&r(n)},className:"hidden"})]})})};function Qe(e){var{className:t}=e,r=D(e,["className"]);return P.jsx(v.Root,Object.assign({"data-slot":"tabs",className:$("flex flex-col gap-2",t)},r))}function Je(e){var{className:t}=e,r=D(e,["className"]);return P.jsx(v.List,Object.assign({"data-slot":"tabs-list",className:$("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t)},r))}function et(e){var{className:t}=e,r=D(e,["className"]);return P.jsx(v.Trigger,Object.assign({"data-slot":"tabs-trigger",className:$("data-[state=active]:bg-background cursor-pointer dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t)},r))}function tt(e){var{className:t}=e,r=D(e,["className"]);return P.jsx(v.Content,Object.assign({"data-slot":"tabs-content",className:$("flex-1 outline-none",t)},r))}function rt(e){var{className:t}=e,r=D(e,["className"]);return P.jsx(y.Root,Object.assign({"data-slot":"label",className:$("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t)},r))}function nt(e){var t=D(e,[]);return P.jsx(S.Root,Object.assign({"data-slot":"select"},t))}function at(e){var t=D(e,[]);return P.jsx(S.Value,Object.assign({"data-slot":"select-value"},t))}function ot(e){var{className:t,size:r="default",children:n}=e,a=D(e,["className","size","children"]);return P.jsxs(S.Trigger,Object.assign({"data-slot":"select-trigger","data-size":r,className:$("border-input cursor-pointer data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t)},a,{children:[n,P.jsx(S.Icon,{asChild:!0,children:P.jsx(u.ChevronDownIcon,{className:"size-4 opacity-50"})})]}))}function st(e){var{className:t,children:r,position:n="popper"}=e,a=D(e,["className","children","position"]);return P.jsx(S.Portal,{children:P.jsxs(S.Content,Object.assign({"data-slot":"select-content",className:$("bg-popover cursor-pointer text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n},a,{children:[P.jsx(lt,{}),P.jsx(S.Viewport,{className:$("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] cursor-pointer w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),P.jsx(ct,{})]}))})}function it(e){var{className:t,children:r}=e,n=D(e,["className","children"]);return P.jsxs(S.Item,Object.assign({"data-slot":"select-item",className:$("focus:bg-accent cursor-pointer focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t)},n,{children:[P.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:P.jsx(S.ItemIndicator,{children:P.jsx(u.CheckIcon,{className:"size-4"})})}),P.jsx(S.ItemText,{children:r})]}))}function lt(e){var{className:t}=e,r=D(e,["className"]);return P.jsx(S.ScrollUpButton,Object.assign({"data-slot":"select-scroll-up-button",className:$("flex cursor-default items-center justify-center py-1",t)},r,{children:P.jsx(u.ChevronUpIcon,{className:"size-4"})}))}function ct(e){var{className:t}=e,r=D(e,["className"]);return P.jsx(S.ScrollDownButton,Object.assign({"data-slot":"select-scroll-down-button",className:$("flex cursor-default items-center justify-center py-1",t)},r,{children:P.jsx(u.ChevronDownIcon,{className:"size-4"})}))}function ut(e){var{className:t,defaultValue:r,value:n,min:a=0,max:o=100}=e,s=D(e,["className","defaultValue","value","min","max"]);const i=b.useMemo(()=>Array.isArray(n)?n:Array.isArray(r)?r:[a,o],[n,r,a,o]);return P.jsxs(E.Root,Object.assign({"data-slot":"slider",defaultValue:r,value:n,min:a,max:o,className:$("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t)},s,{children:[P.jsx(E.Track,{"data-slot":"slider-track",className:$("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:P.jsx(E.Range,{"data-slot":"slider-range",className:$("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:i.length},(e,t)=>P.jsx(E.Thumb,{"data-slot":"slider-thumb",className:"border-primary cursor-pointer bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]}))}const dt=["#FF0000","#FFFFFF","#000000","#00FFFF","#00FF00","#FFFF00","#0000FF","#FF6347","#008080","#800080"],pt=({value:e,onChange:t})=>P.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[P.jsx(K,{type:"color",value:e.startsWith("#")?e:"#000000",onChange:e=>t(e.target.value),className:"w-12 h-8 p-0 border-2 rounded-lg cursor-pointer"}),dt.map((r,n)=>P.jsx("div",{className:"w-8 h-8 rounded-full border-2 cursor-pointer transition-all hover:scale-110 "+(e===r?"border-gray-800 shadow-lg":"border-gray-300"),style:{backgroundColor:r},onClick:()=>t(r),title:r},n))]}),ft=({textStyle:t,handleStyleChange:r})=>{const[n,a]=e.useState("hex"),[o,s]=e.useState(t.fill);return P.jsxs("div",{className:"space-y-4",children:[P.jsx("div",{children:P.jsx(rt,{className:"text-sm font-medium",children:"Text Color"})}),P.jsx(pt,{value:t.fill,onChange:e=>{s(e),r("fill",e)}}),P.jsxs("div",{className:"flex gap-2 items-center",children:[P.jsxs(nt,{value:n,onValueChange:e=>a(e),children:[P.jsx(ot,{className:"w-24",children:P.jsx(at,{})}),P.jsxs(st,{children:[P.jsx(it,{value:"hex",children:"Hex"}),P.jsx(it,{value:"rgb",children:"RGB"}),P.jsx(it,{value:"string",children:"String"})]})]}),P.jsx(K,{type:"text",value:o,onChange:e=>{s(e.target.value)},onBlur:()=>{r("fill",o)},onKeyDown:e=>{"Enter"===e.key&&(r("fill",o),e.currentTarget.blur())},className:"flex-1"})]}),P.jsxs("div",{children:[P.jsx(rt,{children:"Text Opacity"}),P.jsx(ut,{value:[t.opacity],onValueChange:([e])=>r("opacity",e),min:0,max:1,step:.01,className:"mt-2"})]})]})};function gt(e){var{className:t}=e,r=D(e,["className"]);return P.jsx(_.Root,Object.assign({"data-slot":"switch",className:$("peer cursor-pointer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t)},r,{children:P.jsx(_.Thumb,{"data-slot":"switch-thumb",className:$("bg-background cursor-pointer dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})}))}const ht=({textStyle:t,handleStyleChange:r})=>{const[n,a]=e.useState("hex"),[o,s]=e.useState(t.backgroundColor);e.useEffect(()=>{s(t.backgroundColor)},[t.backgroundColor]);return P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx(rt,{className:"text-sm font-medium",children:"Text Background"}),P.jsx(gt,{checked:t.hasBackground,onCheckedChange:e=>r("hasBackground",e)})]}),t.hasBackground&&P.jsxs("div",{className:"space-y-4",children:[P.jsx("div",{children:P.jsx(rt,{className:"text-sm font-medium",children:"Background Color"})}),P.jsx(pt,{value:t.backgroundColor,onChange:e=>{s(e),r("backgroundColor",e)}}),P.jsxs("div",{className:"flex gap-2 items-center",children:[P.jsxs(nt,{value:n,onValueChange:e=>a(e),children:[P.jsx(ot,{className:"w-24",children:P.jsx(at,{})}),P.jsxs(st,{children:[P.jsx(it,{value:"hex",children:"Hex"}),P.jsx(it,{value:"rgb",children:"RGB"}),P.jsx(it,{value:"string",children:"String"})]})]}),P.jsx(K,{type:"text",value:o,onChange:e=>{s(e.target.value)},onBlur:()=>{r("backgroundColor",o)},onKeyDown:e=>{"Enter"===e.key&&(r("backgroundColor",o),e.currentTarget.blur())},className:"flex-1"})]}),P.jsxs("div",{children:[P.jsx(rt,{children:"Background Opacity"}),P.jsx(ut,{value:[t.backgroundOpacity],onValueChange:([e])=>r("backgroundOpacity",e),min:0,max:1,step:.01,className:"mt-2"})]}),P.jsxs("div",{children:[P.jsx(rt,{children:"Background Radius"}),P.jsx(ut,{value:[t.backgroundRadius],onValueChange:([e])=>r("backgroundRadius",e),min:0,max:50,step:1,className:"mt-2"})]})]})]})},mt=({textStyle:t,handleStyleChange:r})=>{const[n,a]=e.useState("hex"),[o,s]=e.useState(t.borderColor);e.useEffect(()=>{s(t.borderColor)},[t.borderColor]);return P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx(rt,{className:"text-sm font-medium",children:"Text Border"}),P.jsx(gt,{checked:t.hasBorder,onCheckedChange:e=>r("hasBorder",e)})]}),t.hasBorder&&P.jsxs("div",{className:"space-y-4",children:[P.jsx("div",{children:P.jsx(rt,{className:"text-sm font-medium",children:"Border Color"})}),P.jsx(pt,{value:t.borderColor,onChange:e=>{s(e),r("borderColor",e)}}),P.jsxs("div",{className:"flex gap-2 items-center",children:[P.jsxs(nt,{value:n,onValueChange:e=>a(e),children:[P.jsx(ot,{className:"w-24",children:P.jsx(at,{})}),P.jsxs(st,{children:[P.jsx(it,{value:"hex",children:"Hex"}),P.jsx(it,{value:"rgb",children:"RGB"}),P.jsx(it,{value:"string",children:"String"})]})]}),P.jsx(K,{type:"text",value:o,onChange:e=>{s(e.target.value)},onBlur:()=>{r("borderColor",o)},onKeyDown:e=>{"Enter"===e.key&&(r("borderColor",o),e.currentTarget.blur())},className:"flex-1"})]}),P.jsxs("div",{children:[P.jsx(rt,{children:"Border Width"}),P.jsx(ut,{value:[t.borderWidth],onValueChange:([e])=>r("borderWidth",e),min:0,max:20,step:.5,className:"mt-2"})]})]})]})},xt=["Arial","Helvetica","Garamond","Comic Sans MS","Arial Black","Impact"],bt=({textContent:e,textStyle:t,handleStyleChange:r})=>P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx(rt,{children:"Font Family"}),P.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:xt.map(n=>P.jsx(z,{onClick:()=>r("fontFamily",n),variant:e&&t.fontFamily===n?"outline":"ghost",className:"justify-start border",style:{fontFamily:n},children:n},n))})]}),P.jsxs("div",{children:[P.jsxs(rt,{children:["Font Size: ",Math.round(t.fontSize),"px"]}),P.jsx(ut,{value:[t.fontSize],onValueChange:([e])=>r("fontSize",e),min:12,disabled:!1==!!e,max:100,step:1,className:"mt-2"})]})]});function vt(e){var{className:t}=e,r=D(e,["className"]);return P.jsx("textarea",Object.assign({"data-slot":"textarea",className:$("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t)},r))}const yt=({textContent:e,textStyle:t,makeCaps:r,changeTextStyle:n,changeTextAlign:a,setTextContent:o,selectedTextElement:s})=>P.jsxs("div",{className:"space-y-4",children:[P.jsx(rt,{children:"Text Input"}),P.jsx("div",{className:"flex gap-2",children:P.jsx(vt,{value:e,onChange:e=>o(e.target.value),placeholder:"Type to add text...",className:"mt-1 min-h-32"})}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx(z,{onClick:r,variant:"small-caps"===(null==s?void 0:s.fontVariant)?"default":"ghost",className:"capitalize",children:"T"}),P.jsx(z,{onClick:()=>n("bold"==(null==s?void 0:s.fontStyle)?"normal":"bold"),variant:"bold"===t.fontStyle?"default":"ghost",className:"font-extrabold",children:"B"}),P.jsx(z,{onClick:()=>n("italic"==(null==s?void 0:s.fontStyle)?"normal":"italic"),variant:"italic"===t.fontStyle?"default":"ghost",className:"italic",children:"I"}),P.jsx("span",{className:"border border-white"}),P.jsx(z,{onClick:()=>a("left"),variant:e&&"left"===t.align?"default":"ghost",children:P.jsx(u.AlignLeftIcon,{})}),P.jsx(z,{onClick:()=>a("center"),variant:e&&"center"===t.align?"default":"ghost",children:P.jsx(u.AlignCenterIcon,{})}),P.jsx(z,{onClick:()=>a("right"),variant:e&&"right"===t.align?"default":"ghost",children:P.jsx(u.AlignRightIcon,{})})]})]});function St(e){var{className:t,orientation:r="horizontal",decorative:n=!0}=e,a=D(e,["className","orientation","decorative"]);return P.jsx(j.Root,Object.assign({"data-slot":"separator",decorative:n,orientation:r,className:$("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t)},a))}const Et=e.forwardRef(({textContent:e,setTextContent:t,textStyle:r,handleStyleChange:n,makeCaps:a,changeTextStyle:o,changeTextAlign:s,selectedTextElement:i},l)=>P.jsx("div",{className:"p-4 rounded-lg border bg-gray-900",ref:l,tabIndex:-1,children:P.jsxs(Qe,{defaultValue:"text",className:"w-full",children:[P.jsxs(Je,{className:"grid w-full grid-cols-3",children:[P.jsx(et,{value:"text",children:"Text"}),P.jsx(et,{value:"color",children:"Color"}),P.jsx(et,{value:"font",children:"Font"})]}),P.jsx(tt,{value:"text",children:P.jsx("div",{className:"space-y-4",children:P.jsx(yt,{textContent:e,setTextContent:t,makeCaps:a,changeTextAlign:s,selectedTextElement:i,changeTextStyle:o,textStyle:r})})}),P.jsx(tt,{value:"color",children:P.jsxs("div",{className:"space-y-4",children:[P.jsx(ft,{textStyle:r,handleStyleChange:n}),P.jsx(St,{}),P.jsx(ht,{textStyle:r,handleStyleChange:n}),P.jsx(St,{}),P.jsx(mt,{textStyle:r,handleStyleChange:n})]})}),P.jsx(tt,{value:"font",children:P.jsx("div",{className:"space-y-4",children:P.jsx(bt,{textContent:e,textStyle:r,handleStyleChange:n})})})]})}));Et.displayName="TextControls";exports.ImageEditor=()=>{const{stageRef:r,transformerRef:n,textElements:a,currentTextInput:o,setTextContent:s,handleTextDragEnd:i,handleTextTransform:l,handleTextSelect:c,handleStageClick:u,removeText:d,downloadImage:p,bgImageObj:f,canvasSize:g,handleBackgroundUpload:h,removeBackground:m,stickers:x,availableStickers:b,addSticker:v,addAvailableSticker:y,handleStickerDragEnd:S,handleStickerTransform:E,handleStickerSelect:_,handleStyleChange:j,handleStickerRemove:w,makeCaps:R,textStyle:O,changeTextStyle:k,changeTextAlign:C,controlsRef:N,handleTextDragStart:A,handleStickerDragStart:T,selectedTextElement:I}=(()=>{const t=e.useRef(null),r=e.useRef(null),{bgImageObj:n,setBgImageObj:a,setTextElements:o,canvasSize:s,setCanvasSize:i,setCurrentTextInput:l}=F(),{textElements:c,currentTextInput:u,setTextContent:d,handleTextDragEnd:p,handleTextTransform:f,handleTextSelect:g,removeText:h,handleStyleChange:m,makeCaps:x,deselectAll:b,getCurrentTextStyle:v,changeTextStyle:y,changeTextAlign:S,controlsRef:E,handleTextDragStart:_,selectedTextElement:j}=q(),{stickers:w,setStickers:R,availableStickers:O,addSticker:k,addAvailableSticker:C,handleStickerDragEnd:N,handleStickerTransform:A,handleStickerSelect:T,handleStickerRemove:I,handleStickerDragStart:P}=X(),D=()=>{o([]),R([]),l("")};return{stageRef:t,transformerRef:r,textElements:c,currentTextInput:u,setTextContent:d,handleTextDragEnd:p,handleTextTransform:f,handleTextSelect:g,removeText:h,handleStyleChange:m,makeCaps:x,textStyle:v(),handleStageClick:e=>{var t,n;2===e.target._id&&1===(null===(t=e.target.getStage())||void 0===t?void 0:t._id)&&(b(),R(e=>e.map(e=>Object.assign(Object.assign({},e),{isSelected:!1}))),r.current&&(r.current.nodes([]),null===(n=r.current.getLayer())||void 0===n||n.batchDraw()))},downloadImage:()=>{var e;t.current&&n&&(o(e=>e.map(e=>Object.assign(Object.assign({},e),{isSelected:!1}))),R(e=>e.map(e=>Object.assign(Object.assign({},e),{isSelected:!1}))),r.current&&(r.current.nodes([]),null===(e=r.current.getLayer())||void 0===e||e.batchDraw()),setTimeout(()=>{if(t.current){t.current.width(s.width),t.current.height(s.height),t.current.batchDraw();const e=t.current.toDataURL({pixelRatio:1,width:s.width,height:s.height,x:0,y:0}),r=document.createElement("a");r.download=`composition_${s.width}x${s.height}.png`,r.href=e,r.click()}},100))},bgImageObj:n,canvasSize:s,handleBackgroundUpload:e=>{D();const t=new FileReader;t.onload=e=>{var t;const r=new window.Image;r.crossOrigin="anonymous",r.onload=()=>{const e={width:r.naturalWidth,height:r.naturalHeight};i(e),a(r)},r.onerror=e=>{console.error("Error loading image:",e)},r.src=null===(t=e.target)||void 0===t?void 0:t.result},t.readAsDataURL(e)},removeBackground:()=>{a(null),i({width:1024,height:700}),D()},stickers:w,availableStickers:O,addSticker:k,addAvailableSticker:C,handleStickerDragEnd:N,handleStickerTransform:A,handleStickerSelect:T,handleStickerRemove:I,changeTextStyle:y,changeTextAlign:S,controlsRef:E,handleTextDragStart:_,handleStickerDragStart:P,selectedTextElement:j}})();(()=>{const{undo:t,redo:r}=U();e.useEffect(()=>{const e=e=>{const n=e.ctrlKey||e.metaKey;n&&"z"===e.key&&!e.shiftKey?(e.preventDefault(),t()):n&&("y"===e.key||"z"===e.key&&e.shiftKey)&&(e.preventDefault(),r())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,r])})(),V();const D=[...a.map(e=>Object.assign(Object.assign({},e),{type:"text"})),...x.map(e=>Object.assign(Object.assign({},e),{type:"sticker"}))].sort((e,t)=>e.zIndex-t.zIndex);return P.jsx("div",{className:"p-4 max-w-full mx-auto",children:P.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[P.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[P.jsx(Ze,{bgImageObj:f,onBackgroundUpload:h,onRemoveBackground:m}),f&&P.jsxs(P.Fragment,{children:[P.jsx(Et,{textContent:o,setTextContent:s,textStyle:O,handleStyleChange:j,makeCaps:R,selectedTextElement:I,ref:N,changeTextStyle:k,changeTextAlign:C}),P.jsx(Ke,{availableStickers:b,addSticker:v,addAvailableSticker:y})]}),P.jsx(Ye,{})]}),P.jsxs("div",{className:"lg:col-span-3",children:[P.jsx("div",{className:"border rounded-lg mb-4 inline-block",children:f?P.jsx("div",{className:"inline-block",style:{width:g.width,height:g.height},children:P.jsx(t.Stage,{width:g.width,height:g.height,ref:r,onClick:u,onTap:u,children:P.jsxs(t.Layer,{children:[P.jsx(t.Image,{image:f,x:0,y:0,width:g.width,height:g.height,draggable:!1}),D.map(e=>"sticker"===e.type?P.jsx(W,{stickerElement:e,stickerImage:(()=>{const t=new window.Image;return t.src=e.src,t.crossOrigin="anonymous",t})(),onDragEnd:t=>S(e.id,t),onDragStart:()=>T(e.id),onTransform:t=>E(e.id,t),onSelect:()=>_(e.id),transformerRef:e.isSelected?n:null,onStickerRemove:w},e.id):P.jsx(M,{textElement:e,onDragEnd:t=>i(e.id,t),onDragStart:()=>A(e.id),onDelete:()=>d(e.id),onTransform:t=>l(e.id,t),onSelect:()=>c(e.id),transformerRef:e.isSelected?n:null},e.id))]})})}):P.jsx("div",{className:"w-[1024px] h-[700px] bg-gray-100 flex items-center justify-center",children:P.jsxs("div",{className:"text-center",children:[P.jsx("div",{className:"text-gray-400 text-lg mb-2",children:"No background image"}),P.jsx("div",{className:"text-gray-500 text-sm",children:"Upload a background image to start editing"})]})})}),P.jsx("div",{className:"flex gap-2",children:P.jsx(z,{onClick:p,disabled:!f,children:"Download Image"})})]})]})})};
//# sourceMappingURL=index.js.map
